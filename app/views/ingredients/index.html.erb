<div class="container">
  <h2 style="text-align: left" >Search for Ingredients</h2>
    <div id="ingredient-top-nav">
      <%= render 'shared/ingredientsearchbarform' %>
      <h3>X results</h3>
    </div>
    <div class="ingredients-grid">
        <% @ingredients.each do |ingredient| %>

            <div class="ingredient-index-card">
                <h3> <%= link_to ingredient.name, ingredient_path(ingredient) %></h3>
                <div class="ingredient-card-rating">
                    <div class="card-rating-container">                        
                        <% rating = ingredient.safety_rating %>
                        <% if rating != nil %>
                            <%= render 'shared/progresscircle', :locals => {"value" => rating} unless rating == nil %>
                            <p>Safety</p> 
                        <% end %>
                    </div>
                    <div class="card-rating-container">
                        <% rating = ingredient.efficacy_rating %>
                        <% if rating != nil %>
                            <%= render 'shared/progresscircle', :locals => {"value" => rating} unless rating == nil %>
                            <p>Efficacy</p>
                        <% end %>                    
                    </div>                            
                </div>
            </div>
        <% end %>
    </div>
</div>

<div>
    <% if params[:query].nil? %>
    <ul>
        <li>
        <%= link_to_if @page > 0, "<< Previous", ingredients_path(page: @page - 1) %>
        </li>
        <li>
        <%= link_to_if @page < ((Ingredient.count/12) - 1) , "Next >>", ingredients_path(page: @page + 1) %>
        </li>
    </ul>
    <% end %>
</div>

